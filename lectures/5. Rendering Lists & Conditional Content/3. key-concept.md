# Key concept

When working with lists, React need a unique `key` prop to actually improve performance and prevent bugs from happening when refreshing and manipulating lists.

Message from Developer Tools:
`Warning: Each child in a list should have a unique "key" prop.`

When not using `key`, React will refresh the entire list and re-render every `expense` in it, wasting resources in the long run. When using a `key` prop, React will only add a new `expense` to the list and will not re-render all the list.

## How to use it?

First, we need some kind of unique key for each expense. So, there's two places where we added an ID:

1. On `DUMMY_EXPENSES`, in `App.js` we added a attribute `id` with a number
2. On `NewExpense.js` we created a new object passing the expense created before, but setting an ID using the `Math.random()` function, since an Expense object expects an ID

```sh
// 1. Dummy expenses on `App.js`
const DUMMY_EXPENSES = [
  {
    id          : 1,
    description : 'Car Insurance',
    date        : new Date(2020, 2, 19),
    value       : 264.97
  },
  {
    id          : 2,
    description : 'Guitar Reformation',
    date        : new Date(2020, 2, 20),
    value       : 165.99
  },
  {
    id          : 3,
    description : 'Supermarket',
    date        : new Date(2020, 2, 21),
    value       : 300.00
  }
];

// 2. function in `NewExpense.js`
const saveExpenseDataHandler = enteredExpenseData => {
  const expense = {
    ...enteredExpenseData,
    id: Math.random().toString()
  };
  props.onAddExpense(expense);
}
```

With this, when the `ExpenseList` iterates all expenses, we need to set a attribute `key` on the `ExpenseItem` component using the expenses's ID.

```sh
const ExpenseList = props => {
  return (
    <Card className=' expenses'>
      <ExpensesFilter selected={filteredYear} onChangeFilter={filterChangeHandler} />
      {
        props.expenses.map(expense => {
          return <ExpenseItem key={expense.id} description={expense.description} date={expense.date} value={expense.value} />
        })
      }
    </Card>
  );
}
```

When we call the `<ExpenseItem />` component, we have to pass an attribute called `key`, which receives the `expense.id`, which is an unique value.
